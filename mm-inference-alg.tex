\begin{algorithm} \caption[max-marginal inference]{Message passing to solve 
$$\max_{y \in \cY \text{ s.t. } y_i = y_i'} s(x,y) \;\; \forall i, y_i \in \cY_i $$ } \label{alg:mm-inference} 

\begin{algorithmic} 

\REQUIRE $ $ \\ 
Factors $\{\phi_i\}, \{\phi_{ij}\}$\\
Tree graph $G$ with (arbitrary) root node index $r$ and topological ordering $\pi$, where $\pi_n = r$.

\todo{To be added in the final version of the paper.}

\end{algorithmic} 
\end{algorithm}


